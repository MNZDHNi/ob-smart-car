```c
typedef struct {
    float Q;        // 过程噪声协方差
    float R;        // 测量噪声协方差
    float x;        // 状态值
    float P;        // 状态协方差
    float K;        // 卡尔曼增益
} Kalman_Filter;

float Kalman_Update(Kalman_Filter *kf, float measurement)
{
    // 预测步骤
    kf->P = kf->P + kf->Q;
    
    // 更新步骤
    kf->K = kf->P / (kf->P + kf->R);
    kf->x = kf->x + kf->K * (measurement - kf->x);
    kf->P = (1 - kf->K) * kf->P;
    
    return kf->x;
}

// 初始化卡尔曼滤波器
void Kalman_Init(Kalman_Filter *kf, float Q, float R, float init_val)
{
    kf->Q = Q;
    kf->R = R;
    kf->x = init_val;
    kf->P = 1.0;
    kf->K = 0;
}
```